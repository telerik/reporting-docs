Петър Милчев - Ajax support

API Ref:
template:
/p:LatestBinariesPath=${LatestBinariesPath};DocsRepoName=${DocsRepoName};DocumentationBaseUrl=${DocumentationBaseUrl};DocsRepoApiAssetsFolder=${DocsRepoApiAssetsFolder}

Final - run in D:\Work
msbuild /p:LatestBinariesPath="\\telerik.com\distributions\DailyBuilds\REPORTING\2021-07-19\Reporting\R2 2021 SP1\03-48\DEV\bin";DocsRepoName=reporting-docs;DocumentationBaseUrl=https://docs.telerik.com/reporting/;DocsRepoApiAssetsFolder=_assetsApi docs-seed/_buildApi/BuildApiReference.proj

Test - run in D:\Work
msbuild /p:LatestBinariesPath="D:\Work\MdDocs\Examples\CSharp\.NET Framework\Html5IntegrationDemo\bin";DocsRepoName=reporting-docs;DocumentationBaseUrl=https://docs.telerik.com/reporting/;DocsRepoApiAssetsFolder=_assetsApi docs-seed/_buildApi/BuildApiReference.proj


REMAINING:

Document types to handle:
	developerTroubleshootingDocument
	developerWalkthroughDocument


how to pass the real tokes to _config.yml

how to use tokens in code snippets (CDATA)



Branch Development\MdDocs
Once the converter generates the mapping between SandCastle article ID and the new MD article address, the tool should update the corresponding IDs in the API Reference of our code files
OR
replace them manually - 40 in 28 files. Search by "<conceptualLink target"
Example that worked locally, from Telerik.Reporting.xml after build:
"
<member name="P:Telerik.Reporting.CheckBox.Text">
    <summary>
    Gets or sets the current text (aka label) in the check box.
    </summary>
    <value>
    A <see cref="T:System.String"/> started with "=" is interpreted as
    an expression to calculate the real data,
    otherwise - literal string. 
    
	Supports <conceptualLink target="e7d7b24c-decd-45c2-91b4-0f2b9e28271c">embedded expressions</conceptualLink> also.  -------------- OLD
	
	Supports <a href="../designing-reports/connecting-to-data/expressions/using-expressions/embedded-expressions">embedded expressions</a> also. ----------- NEW - WORKS
	
    </value>
</member>
"
Implement this change for all occurrencies above




Merge TOC of documentation and API reference - D:\Work\reporting-docs\_assetsApi\api\index.md - change this file accordingly


Feedback:

seems like the other paragraphs in the generated MD file   -	There are missing paragraphs in page sections consisting only of bullet lists. Thus, the 20px font size style is not applied and the text looks small. For example you can check the Prerequisites section here - https://reportinghost:446/reporting/installation


Problematic pages:	

http://arabadzhiev:1589/reporting/designing-reports/report-designer-tools/desktop-designers/tools/data-source-wizards/objectdatasource-wizard
Reason:
...
    ````c#
        [System.ComponentModel.DataObject()]
        public class Cars : List<Car>;
        {
        ....
        }
````
````vb
        <System.ComponentModel.DataObject> _
        Public Class Cars
        Inherits List(Of Car)
        ....
        End Class
````
...
The above code is autogenerated and makes tabbed code snippet. This breaks the list items though.Changing it to the following (VB code is simply tabbed) fixes the lists but breaks the tabbed snippet:
...
    ````c#
        [System.ComponentModel.DataObject()]
        public class Cars : List<Car>;
        {
        ....
        }
````
	````vb
        <System.ComponentModel.DataObject> _
        Public Class Cars
        Inherits List(Of Car)
        ....
        End Class
````
...



http://arabadzhiev:1589/reporting/designing-reports/connecting-to-data/data-source-components/objectdatasource-component/connecting-the-objectdatasource-component-to-a-data-source
Analysis:
The VB snippet should start from the beginning of the line to become tabbed. However, if there is MD code starting without indent, the list is broken.
working tabbed snippets, broken list
...
	{{source=CodeSnippets\CS\API\Telerik\Reporting\ObjectDataSourceSnippets.cs region=SampleDataSource}}
	````C#
	        class Product
	        {
	            //properties
	        }
	
	
	        [DataObject]
	        class Products
	        {
	            //objects
	        }
````
{{source=CodeSnippets\VB\API\Telerik\Reporting\ObjectDataSourceSnippets.vb region=SampleDataSource}}
````VB
	    Class Product
	        'properties
	    End Class
	
	    <DataObject()>
	    Class Products
	        'objects
	    End Class
	
````
...

working list, broken tabbed snippets
...
	{{source=CodeSnippets\CS\API\Telerik\Reporting\ObjectDataSourceSnippets.cs region=SampleDataSource}}
	````C#
	        class Product
	        {
	            //properties
	        }
	
	
	        [DataObject]
	        class Products
	        {
	            //objects
	        }
	````
	{{source=CodeSnippets\VB\API\Telerik\Reporting\ObjectDataSourceSnippets.vb region=SampleDataSource}}
	````VB
	    Class Product
	        'properties
	    End Class
	
	    <DataObject()>
	    Class Products
	        'objects
	    End Class
	
	````
...



relative links with {%slug ...%} in ">note " don't work - "...\designing-reports\localizing-reports.md", "..\rendering-and-paging\design-considerations-for-report-rendering\
ANOTHER EXAMPLE: ">note You can change the field delimiter to any character that you want, by changing the device information settings. For more information, see [CSV Device Information Settings](../../../using-reports-in-applications/export-and-configure/configure-the-export-formats/csv-device-information-settings)."

relative links with {%slug ...%} don't work for KB articles - "...\designing-reports\converting-reports-from-other-reporting-solutions\overview.md"





file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-sources-viewers.aml - links to sections at the end of the article (go to section link) not working
http://arabadzhiev:1589/reporting/using-reports-in-applications/display-reports-in-applications/how-to-set-reportsource-for-report-viewers
correct section links

http://arabadzhiev:1589/reporting/designing-reports/report-designer-tools/desktop-designers/tools/data-source-wizards/objectdatasource-wizard:
second VB code snippet not full. I suspect this is due to character '<' that starts on the next line: '<System.ComponentModel.DataObjectMethod(System.ComponentModel.DataObjectMethodType.Select)>'



Tool for code snippets - change for Reporting:
CodeMainPathCS = pathToSourceCodeFiles + @"\SamplesCS\";
CodeMainPathVB = pathToSourceCodeFiles + @"\SamplesVB\";
...
string workspaceName = "WinForms_Scrum";
string projectPath = @"$/WinForms_Scrum/Development/Help";







FIXED:

Change _config.yml file for TOC, etc.


clear '\r\n' in ALERTS

add '  \r\n' before '!['

TABLES with multiple lines in the same cell - change '\r\n' with '<br/>'.

BOLD externalLink - change XSLT schema for legacyBold 

code tag - sourceFile fixed to the local one. Need to provide correct paths to jeqyll

TOKENS for the version - make <token> tag to {{site.tokenName}} and set it value in _config.yml

For TITLES use normalize-space in XSLT

[CDATA] code handling in custom code like with CODE-with source


Change links from conceptual articles to api-ref articles like:
<codeEntityReference qualifyHint="false" autoUpgrade="true">M:Telerik.Reporting.Processing.ReportProcessor.RenderReport(System.String,Telerik.Reporting.ReportSource,System.Collections.Hashtable)</codeEntityReference>
		  
[RenderReport](/reporting/api/Telerik.Reporting.Processing.ReportProcessor.html#collapsible-Telerik_Reporting_Processing_ReportProcessor_RenderReport_System_String_Telerik_Reporting_ReportSource_System_Collections_Hashtable_)

Code and other nodes in steps - 4 spaces indent 

procedure/titles

section/titles

Handle The structure
<![CDATA[...<link href="https://kendo.cdn.telerik.com/]]><token...>kendosubsetversion</token><![CDATA[...


this nested <code> elements were removed in the mamls:
<code language="c#">
  <code source="CodeSnippets\MvcCS\Views\Home\InvoiceParameters.cshtml" region="ParametersExample" />
</code>
<code language="vb.net">
  <code source="CodeSnippets\MvcVB\Views\Home\InvoiceParameters.vbhtml" region="ParametersExample" />
</code>
file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-items-html-text-box-validation.aml
file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-sources-viewers.aml
file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-viewer-localization2.aml
file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-viewer-localization3.aml
file:///D:/Work/2018/Hotfix/Documentation/Help/Content/MVCExtensions/mvc-report-viewer-howto-custom-parameters.aml


fixed feedback - The unordered list is not part of the whole list (the one under the second bullet item in the section), thus it is on the same level - https://reportinghost:446/reporting/installation#installing-telerik-reporting

fixed feedback, added a new line before the image - Images are not in a “mediaNear” div and thus there is missing top and bottom margins - https://reportinghost:446/reporting/installation#installing-telerik-reporting


Fixed listItems without <para>


If <procedure> is not in <section> (should be for correct maml) the entire procedure is not rendered. Fix the maml files in documentation:
	wpf-report-viewer-add-to-net-core-project.aml

code from source cannot be displayed if no region specified - wpf-report-viewer-add-to-net-core-project.aml


apply normalize-space to legacyBold/legacyItalic/legacyUnderline to remove whitespace/new lines as the new lines break it - cubedatasource-configuring-project.maml

designing-performance.maml - legacyBold/legacyItalic/legacyUnderline not correct - fixed by adding additional ' ' in the XSLT schema


​[5:17 PM] Kaloyan Kotorov
    C#/VB code comment-ите са един под друг, вместо да с табове

SOLUTION 1 (AJAX) - no line between two codes;Language name next to the apostrophies, no intervals - ````C#. May have also {{source}} between snippets

{{source=CodeSnippets\CS\API\Telerik\Reporting\Processing\ReportProcessorSnippets.cs region=Export_Single_Stream_Snippet}}
````C#
\\code should start from the beginning of the line
var reportProcessor = ...
````
{{source=CodeSnippets\VB\API\Telerik\Reporting\Processing\ReportProcessorSnippets.vb region=Export_Single_Stream_Snippet}}
````VB
'code should start from the beginning of the line
Dim ...
````



Corrected with replacing '/' with '-' and '.' with 'dot' in converter:
article names should not start with a dot '.'. Rename the article D:\Documentation migration tool-original\Help\telerikreporting\using-reports-in-applications\.net-core-support.md -> D:\Documentation migration tool-original\Help\telerikreporting\using-reports-in-applications\dotnet-core-support.md
Some article titles contain '/' that is interpreted as new subfolder and their names need to be updated manually - in the original MAML:
	D:\Work\reporting-docs\designing-reports\adding-interactivity-to-reports\actions\sorting-action\sorting-multiple-items\groups.md
	D:\Work\reporting-docs\designing-reports\adding-interactivity-to-reports\actions\how-to\how-to-add-a-drilldown\toggle-visibility-action.md
	D:\Work\reporting-docs\designing-reports\adding-interactivity-to-reports\actions\how-to\how-to-add-a-drillthrough\navigate-to-report-action.md
	D:\Work\reporting-docs\using-reports-in-applications\export-and-configure\configure-the-export-formats\wpfxaml\wpfxamlinteractive-device-information-settings.md


replace these code blocks with single blocks manually in the CS/VB snippets and correct the mamls. use Partial classes to avoid very long snippets:
In some articles there are code blocks that have what should appear as a single code snippet by two code blocks - for example:
VB codes in file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-items-html-text-box-validation.aml - done
all code in file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-viewer-localization2.aml - done
all code in file:///D:/Work/2018/Hotfix/Documentation/Help/Content/report-viewer-localization3.aml - done



http://arabadzhiev:1589/reporting/designing-reports/connecting-to-data/data-source-components/objectdatasource-component/overview
Reason: legacyBold/externalLink transformation not working as expected
Fix: new legacyBold template with choose



Kotorov -    See Also секцията е празна навсякъде
Looks like the problem is in the text 'See Also'. The MD file seems correct and when you change the text, e.g. "Seems Also" the section appears.
This is a feature that moves element with ID 'see-also' on the side when it has only links
Handled with code the codeEntityReference elements in relatedTopics (http://arabadzhiev:1589/reporting/designing-reports/connecting-to-data/how-to-set-a-no-data-message)

Removed all commented code in maml with xslt

There are 4 document types:
	developerTroubleshootingDocument
	developerWalkthroughDocument
	developerHowToDocument - handled
	developerConceptualDocument - handled




reports not being generated due to long names - solved:
****
D:\Work\2018\Hotfix\Documentation\Help\Content\asp-net-report-viewer-outproc-modify-textbox-value.aml---
---d:\documentation migration tool-original\help\telerikreporting/using-reports-in-applications/display-reports-in-applications/web-application/asp.net-web-forms-report-viewer/design-considerations-for-out-proc-session-state-/how-to-modify-the-value-of-a-textbox-item-using-an-expression-and-a-report-parameter.md


D:\Work\2018\Hotfix\Documentation\Help\Content\asp-net-report-viewer-outproc-using report-params-to-retrieve-specific-data.aml ---
---"telerikreporting/using-reports-in-applications/display-reports-in-applications/web-application/asp.net-web-forms-report-viewer/design-considerations-for-out-proc-session-state-/how-to-using-report-parameters-to-retrieve-specific-data"

D:\Work\2018\Hotfix\Documentation\Help\Content\HTML5WebFormsControls\webforms-report-viewer-howto-use-it-with-reportserver.aml ---
---d:\documentation migration tool-original\help\telerikreporting\using-reports-in-applications\display-reports-in-applications\web-application\html5-asp.net-web-forms-report-viewer\how-to-use-html5-asp.net-web-forms-report-viewer-with-report-server.md

D:\Work\2018\Hotfix\Documentation\Help\Content\RESTService\telerik-reporting-rest-host-http-service-using-web-hosting.aml ---
--- d:\documentation migration tool-original\help\telerikreporting\using-reports-in-applications\host-the-report-engine-remotely\telerik-reporting-rest-services\asp.net-web-api-implementation\how-to-add-telerik-reporting-rest-web-api-to-web-application.md

D:\Work\2018\Hotfix\Documentation\Help\Content\RESTService\telerik-reporting-rest-service-aspnetcore-mvc-core2.aml
d:\documentation migration tool-original\help\telerikreporting\using-reports-in-applications\host-the-report-engine-remotely\telerik-reporting-rest-services\asp.net-core-web-api-implementation\how-to-host-reports-service-in-asp.net-core-2.1-and-2.2.md

D:\Work\2018\Hotfix\Documentation\Help\Content\RESTService\telerik-reporting-rest-service-aspnetcore-net5.aml
d:\documentation migration tool-original\help\telerikreporting\using-reports-in-applications\host-the-report-engine-remotely\telerik-reporting-rest-services\asp.net-core-web-api-implementation\how-to-host-reports-service-in-asp.net-core-in-.net-5.md

D:\Work\2018\Hotfix\Documentation\Help\Content\RESTService\telerik-reporting-rest-servicestack-hosting-iis.aml
d:\documentation migration tool-original\help\telerikreporting\using-reports-in-applications\host-the-report-engine-remotely\telerik-reporting-rest-services\servicestack-implementation\how-to-add-telerik-reporting-rest-servicestack-to-web-application.md

D:\Work\2018\Hotfix\Documentation\Help\Content\RESTService\telerik-reporting-rest-using-custom-report-resolver-and-document-resolver.aml
d:\documentation migration tool-original\help\telerikreporting\using-reports-in-applications\host-the-report-engine-remotely\telerik-reporting-rest-services\rest-service-report-source-resolver\how-to-use-custom-report-source-resolver-and-custom-report-document-resolver.md
****

Fix just to generate the MD and leave original reference:
Line 411: Failure converting D:\Work\2018\Hotfix\Documentation\Help\Content\web-report-designer-localization.aml to d:\d\help\telerikreporting\designing-reports\report-designer-tools\web-report-designer\localizing-the-web-report-designer.md --- Could not find a part of the path 'D:\Work\Source\Code\Telerik.WebReportDesigner\ClientApp\js\src\WebReportDesignerStringsBase.js'.


- doesn't work
<code source="..\..\Source\Code\Telerik.WebReportDesigner\ClientApp\js\src\WebReportDesignerStringsBase.js" language="js" title="WebReportDesignerStrings.en-EN.js" />

- works
<code lang="C#" source="CodeSnippets\CS\API\Telerik\Reporting\ObjectDataSourceSnippets.cs" region="HowToBindToBusinessObjectSnippet" />



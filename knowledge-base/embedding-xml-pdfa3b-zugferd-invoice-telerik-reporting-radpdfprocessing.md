---
title: Embedding XML into PDF/A-3b ZUGFeRD Invoice Using Telerik Reporting and RadPdfProcessing
description: Learn how to embed XML into PDF/A-3b (ZUGFeRD Invoice) using Telerik Reporting and RadPdfProcessing libraries.
type: how-to
page_title: How to Add XML to PDF/A-3b ZUGFeRD Invoice with Telerik Reporting and RadPdfProcessing
meta_title: How to Add XML to PDF/A-3b ZUGFeRD Invoice with Telerik Reporting and RadPdfProcessing
slug: embedding-xml-pdfa3b-zugferd-invoice-telerik-reporting-radpdfprocessing
tags: reporting, pdf/a-3b, zugferd, radpdfprocessing, embedding-xml, compliance-level
res_type: kb
ticketid: 1695524
---

## Environment

| Version | Product | Author | 
| ---- | ---- | ---- | 
| 2025.2.520| RadPdfProcessing |[Desislava Yordanova](https://www.telerik.com/blogs/author/desislava-yordanova)| 
| 19.1.25.716 | Telerik Reporting|-|

## Description
I need to generate a PDF/A-3b ZUGFeRD invoice with an embedded XML file using Telerik Reporting and RadPdfProcessing libraries. Although Telerik Reporting allows setting the compliance level for ZUGFeRD, there is no direct functionality to embed an XML file into the generated PDF. I want to know if I can extend my code to achieve this functionality.

This knowledge base article also answers the following questions:
- How to embed ZUGFeRD XML into PDF using Telerik Reporting?
- Can RadPdfProcessing add XML to a PDF generated by Telerik Reporting?
- How to generate a ZUGFeRD-compliant PDF/A-3b invoice?

## Solution

To embed the required XML file into a PDF/A-3b ZUGFeRD invoice, follow these steps:

1. Generate the PDF using Telerik Reporting.
2. Post-process the PDF with RadPdfProcessing to embed the XML file and export the final PDF.

### Code Example

Here is a code snippet that demonstrates the process:

```csharp
using System.Diagnostics; 
using Telerik.Windows.Documents.Fixed.FormatProviders.Pdf;
using Telerik.Windows.Documents.Fixed.FormatProviders.Pdf.Export;
using Telerik.Windows.Documents.Fixed.Model;

// Define paths for reports and PDFs
string reportFolderPath = @"..\..\..\Reports\Storage";
string pdfFolderPath = @"..\..\..\Reports\Pdf Files";
string[] reportFiles = Directory.GetFiles(reportFolderPath);

foreach (string reportFilePath in reportFiles)
{
    // Step 1: Generate PDF Report using Telerik Reporting
    var reportProcessor = new Telerik.Reporting.Processing.ReportProcessor();
    var deviceInfo = new System.Collections.Hashtable();

    var reportSource = new Telerik.Reporting.UriReportSource();
    reportSource.Uri = reportFilePath;

    Telerik.Reporting.Processing.RenderingResult result = reportProcessor.RenderReport("PDF", reportSource, deviceInfo);
    string fileName = result.DocumentName + "_byReporting." + result.Extension;
    string filePath = pdfFolderPath + @"\" + fileName;

    if (!result.HasErrors)
    {
        using (System.IO.FileStream fs = new System.IO.FileStream(filePath, System.IO.FileMode.Create))
        {
            fs.Write(result.DocumentBytes, 0, result.DocumentBytes.Length);
        }
    }

    // Step 2: Import the PDF Report, add ZUGFeRD XML, and Export PDF using Telerik Document Processing
    string filePathToImport = pdfFolderPath + @"\" + fileName;

    PdfFormatProvider pdfProvider = new PdfFormatProvider();
    RadFixedDocument fixedDocument = pdfProvider.Import(File.OpenRead(filePathToImport), TimeSpan.FromSeconds(10));

    // Embed the ZUGFeRD XML file
    byte[] xmlBytes = File.ReadAllBytes(@"zugferd-invoice.xml");
    fixedDocument.EmbeddedFiles.AddZugferdInvoice(xmlBytes);

    // Configure PDF export settings for compliance
    PdfExportSettings settings = new PdfExportSettings();
    settings.ComplianceLevel = PdfComplianceLevel.PdfA3B;
    pdfProvider.ExportSettings = settings;

    // Export the final PDF
    string exportedFileName = result.DocumentName + "_byDPL." + result.Extension;
    filePath = pdfFolderPath + @"\" + exportedFileName;
    using (Stream output = File.OpenWrite(exportedFileName))
    {
        pdfProvider.Export(fixedDocument, output, TimeSpan.FromSeconds(10));
    }

    Process.Start(new ProcessStartInfo { FileName = exportedFileName, UseShellExecute = true });
}
```

### Explanation
1. **Generate PDF with Telerik Reporting**: Use the `ReportProcessor` class to render the PDF report.
2. **Import PDF with RadPdfProcessing**: Use `PdfFormatProvider.Import` to load the generated PDF.
3. **Embed XML File**: Add the ZUGFeRD XML file using `fixedDocument.EmbeddedFiles.AddZugferdInvoice`.
4. **Export Final PDF**: Set compliance level to `PdfA3B` and export the document using `PdfFormatProvider.Export`.

## See Also
- [Telerik Reporting Documentation](https://docs.telerik.com/reporting/introduction)
- [RadPdfProcessing Overview](https://docs.telerik.com/devtools/document-processing/libraries/radpdfprocessing/overview)
- [PDF Device Information Settings](https://docs.telerik.com/reporting/doc-output/configure-the-export-formats/pdf-device-information-settings)
- [Embedding Files in PDF](https://docs.telerik.com/devtools/document-processing/libraries/radpdfprocessing/features/embedded-file-streams/embedded-file-streams#creating-an-embedded-electronic-zugferd-invoice)
